#compdef lb-run

local -a projects
local -a common_commands

common_commands=(gaudirun.py dst-dump dst-explorer bender db-tags)
projects=(Brunel Bender DaVinci Moore Urania Erasmus Tesla)
#_describe 'projects' projects

__lb_commands () {
  _describe 'commonly used commands' common_commands
}

_arguments '-l[list versions]' '1:project:($projects)' '2:version:($(lb-dev -l $line[1] | sed "s/ .*//"))' '3:command:->runnablestuff'

case $state in
  (runnablestuff)
    #_describe 'commonly used commands' common_commands
    _alternative '::__lb_commands' \
                 'currently available commands::_command_names -e'
  ;;
esac


